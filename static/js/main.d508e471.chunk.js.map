{"version":3,"sources":["icons sync /.svg$","icons/chart.svg","icons/left.svg","icons/money.svg","icons/tag.svg","components/Icon.tsx","components/Nav.tsx","components/Layout.tsx","views/Money/CategorySection.tsx","views/Money/NumberPadSection/Wrapper.tsx","components/Button.tsx","views/Money/NumberPadSection.tsx","views/Money/NumberPadSection/generateOutput.tsx","lib/createId.tsx","hooks/useUpdate.tsx","hooks/useTags.tsx","views/Money/TagsSection.tsx","views/Money/NoteSection.tsx","hooks/useRecords.tsx","views/Money.tsx","views/Statistics.tsx","views/NoMatch.tsx","views/REcharts.tsx","views/Chart.tsx","App.tsx","index.tsx","images/404.png"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","symbol","add","requireContext","require","forEach","error","console","log","Icon","props","children","className","rest","name","cs","xlinkHref","NavWrapper","styled","nav","Nav","to","activeClassName","Wrapper","div","Main","Layout","mainRef","useRef","useEffect","setTimeout","current","scrollTop","ref","defaultProps","section","CategorySection","categoryMap","category","value","useState","x","c","key","onClick","onChange","CButton","Button","NumberPadSection","toString","output","_setOutput","text","target","textContent","onOK","split","concat","indexOf","newOutput","length","slice","parseFloat","setOutput","generateOutput","parseInt","window","localStorage","getItem","createId","setItem","JSON","stringify","useUpdate","fn","deps","count","useTags","tags","setTags","localTags","parse","findTag","filter","getName","tag","t","addTag","tagName","prompt","updateTag","obj","deleteTag","TagSection","selectTagIds","tagId","NoteSection","size","maxLength","showCount","placeholder","useRecords","records","setRecords","addRecord","newRecord","amount","message","info","tagIds","record","createAt","Date","toISOString","MyLayout","defaultFormData","note","Money","selected","setSelected","history","useHistory","hide","loading","push","submit","Item","Header","h2","Statistics","setCategory","hash","r","day","format","array","entries","sort","a","b","date","NoMatch","width","document","body","clientWidth","style","src","img","alt","REcharts","option","container","myChart","height","echarts","setOption","showLoading","hideLoading","Cbutton","button","Chart","i","setLoading","tooltip","trigger","legend","top","left","series","type","radius","avoidLabelOverlap","itemStyle","borderRadius","borderColor","borderWidth","label","show","position","emphasis","fontSize","fontWeight","labelLine","data","App","exact","path","from","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d508e471.chunk.js","sourcesContent":["var map = {\n\t\"./chart.svg\": 112,\n\t\"./left.svg\": 113,\n\t\"./money.svg\": 114,\n\t\"./tag.svg\": 115\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 111;","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"chart\",\n  \"use\": \"chart-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"chart\\\"><defs><style></style></defs><path d=\\\"M88 64q24 0 24 24v848q0 24-24 24t-24-24V88q0-24 24-24zM848 112a64 64 0 010 128H304a64 64 0 010-128h544m0-48H304a112 112 0 00-112 112 112 112 0 00112 112h544a112 112 0 00112-112A112 112 0 00848 64zm0 720a64 64 0 010 128H304a64 64 0 010-128h544m0-48H304a112 112 0 00-112 112 112 112 0 00112 112h544a112 112 0 00112-112 112 112 0 00-112-112zm0-288a64 64 0 010 128H304a64 64 0 010-128h544m0-48H304a112 112 0 00-112 112 112 112 0 00112 112h544a112 112 0 00112-112 112 112 0 00-112-112z\\\" /><path d=\\\"M320 160h496q16 0 16 16t-16 16H320q-16 0-16-16t16-16zM320 496h496q16 0 16 16t-16 16H320q-16 0-16-16t16-16zM320 832h496q16 0 16 16t-16 16H320q-16 0-16-16t16-16z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"left\",\n  \"use\": \"left-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"left\\\"><defs><style></style></defs><path d=\\\"M723.413 895.701a44.203 44.203 0 01-27.392-9.6L272.213 545.195a43.733 43.733 0 010-68.267L694.23 138.027a43.733 43.733 0 0154.699 68.266L369.323 511.104l381.525 306.901a43.648 43.648 0 01-27.392 77.696z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"money\",\n  \"use\": \"money-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"money\\\"><defs><style></style></defs><path d=\\\"M752 624a64 64 0 01-64-64 16 16 0 00-16-16H224a16 16 0 00-16 16 64 64 0 01-64 64 16 16 0 00-16 16v160a16 16 0 0016 16 64 64 0 0164 64 16 16 0 0016 16h448a16 16 0 0016-16 64 64 0 0164-64 16 16 0 0016-16V640a16 16 0 00-16-16zM448 816c-34.72 0-64-44-64-96s29.28-96 64-96 64 44 64 96-29.28 96-64 96z\\\" /><path d=\\\"M951.84 667.04l-32-56.16 5.28-9.12a48 48 0 00-17.6-65.6l-46.72-26.72L615.84 84.96a48 48 0 00-65.6-17.6l-228 131.52a46.24 46.24 0 00-33.6-3.52 47.04 47.04 0 00-29.28 22.4L107.84 480A48 48 0 0064 528v384a48 48 0 0048 48h672a48 48 0 0048-48V791.68l102.24-59.04a48 48 0 0017.6-65.6zm-55.04-81.28l-9.6 16-55.2 96.16v-168l9.12 5.28 49.44 28.64a16 16 0 016.24 21.92zM566.24 96a16 16 0 0121.76 5.76l217.28 375.68-54.88-32-133.92-231.36a16 16 0 00-21.92-6.08 64 64 0 01-87.36-23.36 16.96 16.96 0 00-9.76-7.52 16 16 0 00-12.16 1.6l-98.56 56.96-32-18.56zM288 233.76a16 16 0 019.76-7.52 16 16 0 0112 1.76l5.6 3.2 64 36.64h.8l352 202.72 14.88 8.48h-64L390.08 311.52a16 16 0 00-19.2 2.56 6.88 6.88 0 00-1.44 1.6v1.76a70.08 70.08 0 01-4.48 6.72 56.32 56.32 0 01-4.96 5.6 28.96 28.96 0 01-5.28 4.64 42.24 42.24 0 01-7.52 5.28 64 64 0 01-64.8 0 16 16 0 00-21.92 5.92L181.92 480h-36.96zM800 912a16 16 0 01-16 16H112a16 16 0 01-16-16V528a16 16 0 0116-16h672a16 16 0 0116 16v384zm125.76-216.96a16 16 0 01-7.52 9.76l-80 46.08 61.44-106.24.96-1.76L924 683.2a16 16 0 011.76 11.84z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"tag\",\n  \"use\": \"tag-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"tag\\\"><defs><style></style></defs><path d=\\\"M466.92 1023.808q94.99 0 179.967-35.993t149.988-100.973L466.92 558.903V93.998q-94.99 0-181.47 36.506t-148.964 98.989-99.469 148.484T.032 558.455t36.985 180.958 99.47 148.485 148.963 98.989 181.47 36.985zm63.988-531.9h492.9q0-99.981-39-190.972T879.834 143.973 722.361 39.001 530.908 0v491.908zm25.98 64.98l331.937 326.946q63.988-63.988 99.47-148.484t35.481-178.462h-466.92z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React, {SVGAttributes} from \"react\";\nimport cs from 'classnames'\n\nlet importAll = (requireContext: __WebpackModuleApi.RequireContext) => requireContext.keys().forEach(requireContext);\ntry {importAll(require.context(\"icons\", true, /\\.svg$/));} catch (error) {console.log(error);}\n\ntype Props = {\n  name?: string\n} & React.SVGAttributes<SVGElement>\n\nconst Icon = (props: Props) => {\n  const {children,className,name,...rest}=props\n  return (\n    <svg className={cs('icon',className)} {...rest}>\n      {props.name && <use xlinkHref={\"#\" + props.name}/>}\n    </svg>\n  );\n};\n\nexport default Icon;\n","import styled from \"styled-components\";\nimport {NavLink} from \"react-router-dom\";\nimport React from \"react\";\nimport Icon from \"./Icon\";\n\nconst NavWrapper = styled.nav`\n  line-height: 16px;\n  box-shadow: 0 0 3px rgba(0, 0, 0, 0.25);\n\n  > ul {\n    display: flex;\n\n    > li {\n      width: 33.3333%;\n      text-align: center;\n\n     > a {\n        display: flex;\n        flex-direction: column;\n        padding: 4px 0;\n        justify-content: center;\n        align-items: center;\n       &.selected {\n         color: #ea6f5a;\n         > svg{\n           fill: #ea6f5a;\n         }\n       }\n      }\n      .icon {\n        width: 24px;\n        height: 24px;\n      }\n    }\n  }\n`;\n\nconst Nav = () => {\n  return (\n    <NavWrapper>\n      <ul>\n        <li>\n          <NavLink to=\"/chart\"  activeClassName=\"selected\"> <Icon name=\"tag\"/>\n            图表</NavLink>\n        </li>\n        <li>\n          <NavLink to=\"/money\"  activeClassName=\"selected\"> <Icon name=\"money\"/>\n            记账</NavLink>\n        </li>\n        <li>\n          <NavLink to=\"/statistics\" activeClassName=\"selected\"> <Icon name=\"chart\"/>\n            统计</NavLink>\n        </li>\n      </ul>\n    </NavWrapper>\n  );\n};\n\nexport default Nav;\n","import Nav from \"./Nav\";\nimport React, {useEffect, useRef} from \"react\";\nimport styled from \"styled-components\";\n\nconst Wrapper = styled.div`\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n`;\nconst Main = styled.div`\n  flex-grow: 1;\n  overflow: auto;\n`;\n\ntype Props = {\n  className?: string\n  scrollTop?: number\n}\nconst Layout: React.FC<Props> = (props) => {\n  const mainRef = useRef<HTMLDivElement>(null);\n  useEffect(() => {\n    setTimeout(()=>{\n      if (!mainRef.current){return}\n      mainRef.current.scrollTop = props.scrollTop! ;\n    },0)\n  }, [props.scrollTop]);\n  return (\n    <Wrapper>\n      <Main ref={mainRef} className={props.className}>\n        {props.children}\n      </Main>\n      <Nav/>\n    </Wrapper>\n  );\n};\n\nLayout.defaultProps={\n  scrollTop:0\n}\n\nexport default Layout;\n","import styled from \"styled-components\";\r\nimport React, {useState} from \"react\";\r\n\r\nconst Wrapper = styled.section`\r\n  font-size: 24px;\r\n\r\n  > ul {\r\n    display: flex;\r\n\r\n    > li {\r\n      text-align: center;\r\n      width: 50%;\r\n      padding: 12px 0;\r\n      position: relative;\r\n      border-radius: 20px;\r\n      top: 20px;\r\n      margin: 0 20px;\r\n      background: gainsboro;\r\n\r\n      &.selected {\r\n        background: lightblue;\r\n        transition: opacity 8s;\r\n        background: linear-gradient(to right, lightskyblue, lightskyblue);\r\n        position: relative;\r\n        z-index: 0;\r\n      }\r\n      &.selected::before{\r\n        content: '';\r\n        position: absolute;\r\n        left: 0; top: 0; right: 0; bottom: 0;\r\n        background: linear-gradient(to right, #c1e3f7, #f2fcfe, #c1e3f7);\r\n        opacity: 0;\r\n        border-radius: 20px;\r\n        transition: opacity 1s;\r\n        z-index: -1;\r\n      }\r\n      &.selected:hover::before {\r\n        opacity: 1;\r\n      }\r\n\r\n      //&.selected::after {\r\n      //  content: '';\r\n      //  background: #333;\r\n      //  display: block;\r\n      //  height: 3px;\r\n      //  position: absolute;\r\n      //  width: 100%;\r\n      //  bottom: 0;\r\n      //  left: 0;\r\n      //}\r\n    }\r\n  }\r\n`;\r\n\r\n\r\ntype Props ={\r\n  value:'-'|'+',\r\n  onChange:(value:'-'|'+')=>void\r\n}\r\nconst CategorySection:React.FC<Props> = (props) => {\r\n  const categoryMap = {'+':'收入','-':'支出'}\r\n  type Y = keyof typeof categoryMap\r\n  const category = props.value\r\n  const [x] = useState<Y[]>([\"+\", \"-\"]);\r\n  return (\r\n    <Wrapper>\r\n      <ul>\r\n        {x.map((c) =>\r\n          <li key={c} className={category === c ? \"selected\" : ''}\r\n            onClick={() => {props.onChange(c);}}\r\n          >{categoryMap[c]}\r\n          </li>\r\n        )}\r\n      </ul>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport {CategorySection};","import styled from \"styled-components\";\r\n\r\nconst Wrapper = styled.section`\r\n  display: flex;\r\n  flex-direction: column;\r\n  > .output {\r\n\r\n    background: white;\r\n    font-size: 36px;\r\n    line-height: 72px;\r\n    text-align: right;\r\n    padding: 0 16px;\r\n    box-shadow: inset 0 -5px 5px -5px rgba(0, 0, 0, .2), inset 0 5px 5px -5px rgba(0, 0, 0, .2);\r\n  }\r\n\r\n  > .pad {\r\n\r\n    > button {\r\n      width: 24.5%;\r\n      height: 72px;\r\n      float: left;\r\n      border: none;\r\n      margin:  1px;\r\n\r\n\r\n      &.zero {\r\n        width: 49.3%;\r\n      }\r\n\r\n      &.ok {\r\n        height: 144px;\r\n        float: right;\r\n        right:3px\r\n      }\r\n      @media (max-width: 768px) {\r\n        &.ok {\r\n          margin-right: .5em !important;\r\n        }\r\n      }\r\n\r\n      &:nth-child(1) {\r\n      }\r\n\r\n      &:nth-child(2) {\r\n      }\r\n    }\r\n  }\r\n\r\n`;\r\n\r\nexport {Wrapper}","import styled from \"styled-components\";\r\nimport { Button} from 'antd';\r\n\r\nconst CButton = styled(Button)`\r\n  @media(max-width: 768px) {\r\n    margin : -0.5px !important;\r\n    \r\n  }\r\n`;\r\n\r\n\r\nexport {CButton}","import React, {useState} from \"react\";\r\nimport {Wrapper} from \"./NumberPadSection/Wrapper\";\r\nimport {generateOutput} from \"./NumberPadSection/generateOutput\";\r\n// import { Button} from 'antd';\r\nimport {CButton} from \"../../components/Button\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {message} from \"antd\";\r\nimport {useRecords} from \"../../hooks/useRecords\";\r\n\r\ntype Props = {\r\n  value: number,\r\n  onChange: (x: number) => void\r\n  onOK?: () => void\r\n}\r\n\r\nconst NumberPadSection: React.FC<Props> = (props) => {\r\n  // const output = props.value.toString();\r\n  const [output, _setOutput] = useState(props.value.toString());\r\n  const setOutput = (output: string) => {\r\n    let newOutput:string;\r\n    if (output.length > 16) {\r\n      newOutput = output.slice(0, 16);\r\n    } else if (output.length === 0) {\r\n      newOutput = '0';\r\n    } else {\r\n      newOutput = output;\r\n    }\r\n    _setOutput(newOutput);\r\n    props.onChange(parseFloat(newOutput));\r\n  };\r\n\r\n  const onButtonWrapper = (e: React.MouseEvent) => {\r\n    const text = (e.target as HTMLButtonElement).textContent;\r\n    if (text === null) {return;}\r\n    if (text === \"OK\") {\r\n      props.onOK && props.onOK();\r\n\r\n    }\r\n    if (\"0123456789.\".split(\"\").concat(\"删 除\", \"清 空\").indexOf(text) > -1) {\r\n      setOutput(generateOutput(text, output));\r\n\r\n    }\r\n  };\r\n  return (\r\n    <Wrapper>\r\n      <div className=\"output\">\r\n        {output}\r\n      </div>\r\n      <div className=\"pad clearfix\" onClick={onButtonWrapper}>\r\n        <CButton ><span>1</span></CButton>\r\n        <CButton >2</CButton>\r\n        <CButton >3</CButton>\r\n        <CButton >删除</CButton>\r\n        <CButton >4</CButton>\r\n        <CButton >5</CButton>\r\n        <CButton >6</CButton>\r\n        <CButton >清空</CButton>\r\n        <CButton >7</CButton>\r\n        <CButton >8</CButton>\r\n        <CButton >9</CButton>\r\n        <CButton  className=\"ok\">\r\n        OK\r\n        </CButton>\r\n        <CButton  className=\"zero\">0</CButton>\r\n        <CButton >.</CButton>\r\n      </div>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport {NumberPadSection};","const generateOutput =(text:string, output ='0')=>{\r\n  switch (text) {\r\n    case (\"0\"):\r\n    case (\"1\"):\r\n    case (\"2\"):\r\n    case (\"3\"):\r\n    case (\"4\"):\r\n    case (\"5\"):\r\n    case (\"6\"):\r\n    case (\"7\"):\r\n    case (\"8\"):\r\n    case (\"9\"):\r\n      if (output === \"0\") {\r\n        return text\r\n      } else {\r\n        return  output + text;\r\n      }\r\n    case (\".\"):\r\n      if (output.indexOf(\".\") > -1) {return output; }\r\n      return  output + \".\";\r\n    case \"删 除\":\r\n      if (output.length === 1) {return '';}\r\n      return output.slice(0, - 1) || '';\r\n    case \"清 空\":\r\n      return '';\r\n    default:\r\n      return '';\r\n  }\r\n}\r\n\r\nexport {generateOutput}","let id = parseInt(window.localStorage.getItem('idMax') || '0');\r\nconst createId = ():number => {\r\n  id += 1;\r\n  window.localStorage.setItem('idMax', JSON.stringify(id))\r\n  return id;\r\n};\r\nexport {createId}","import {useEffect, useRef} from 'react';\r\n\r\n\r\nexport const useUpdate = (fn: () => void, deps: any[]) => {\r\n  const count = useRef(0);\r\n  useEffect(() => {\r\n    count.current += 1;\r\n  });\r\n  useEffect(() => {\r\n    if (count.current > 1) {\r\n      fn();\r\n    }\r\n  }, [fn,deps]); // 不可变数据\r\n};","import {useEffect, useState} from \"react\";\r\nimport {createId} from \"../lib/createId\";\r\nimport {useUpdate} from \"./useUpdate\";\r\n\r\n\r\nconst useTags = () => {\r\n  const [tags, setTags] = useState<{ id: number; name: string }[]>([]);\r\n  const findTag = (id: number) => tags.filter(c => c.id === id)[0];\r\n  useEffect(() => {\r\n    let localTags = JSON.parse(window.localStorage.getItem(\"tags\") || \"[]\");\r\n    if (localTags.length === 0) {\r\n      localTags = [\r\n        {id: createId(), name: \"👍\"},//👍 😭 🙏 😘 🥰 😍 😊\r\n        {id: createId(), name: \"😭\"},\r\n        {id: createId(), name: \"😘\"},\r\n        {id: createId(), name: \"🥰\"},//😂 ❤️ 🤣 👍 😭 🙏 😘 🥰 😍 😊\r\n        {id: createId(), name: \"😍\"},\r\n        {id: createId(), name: \"😊\"},\r\n        {id: createId(), name: \"😂\"},\r\n        {id: createId(), name: \"❤️\"},\r\n        {id: createId(), name: \"🤣\"},\r\n        {id: createId(), name: \"💯\"},\r\n        {id: createId(), name: \"🙏\"},\r\n        {id: createId(), name: \"💕\"},//😂 ❤️ 🎉 🥳 🍕 🌮\r\n        {id: createId(), name: \"🎉\"},\r\n        {id: createId(), name: \"🥳\"},\r\n        {id: createId(), name: \"🍕\"},\r\n        {id: createId(), name: \"🌮\"},\r\n      ];\r\n    }\r\n    setTags(localTags);\r\n\r\n  }, []);\r\n  useUpdate(() => {\r\n    window.localStorage.setItem(\"tags\", JSON.stringify(tags));\r\n  }, tags);\r\n  // const findTagIndex = (id: number) => {\r\n  //   let result = -1;\r\n  //   for (let i = 0; i < tags.length; i++) {\r\n  //     if (tags[i].id === id) {\r\n  //       result = i;\r\n  //       break;\r\n  //     }\r\n  //   }\r\n  //   return result;\r\n  // };\r\n  const updateTag = (id: number, obj: { name: string }) => {\r\n    setTags(tags.map(tag => tag.id === id ? {id, name: obj.name} : tag));\r\n  };\r\n  const deleteTag = (id: number) => {\r\n    setTags(tags.filter(tag => tag.id !== id));\r\n    console.log(1);\r\n  };\r\n  const addTag = () => {\r\n    const tagName = window.prompt(\"标签名为\");\r\n    if (tagName !== null && tagName !== \"\") {\r\n      setTags([...tags, {id: createId(), name: tagName}]);\r\n    }\r\n  };\r\n  const getName = (id: number) => {\r\n    const tag = tags.filter(t => t.id === id)[0];\r\n    return tag ? tag.name : \"\";\r\n  };\r\n  return {findTag, getName, addTag, setTags, tags, updateTag, deleteTag};\r\n};\r\n\r\nexport {useTags};\r\n","import styled from \"styled-components\";\nimport React from \"react\";\nimport {useTags} from \"../../hooks/useTags\";\n\nconst Wrapper = styled.section`\n  background-color: #fafafa;\n  padding: 12px 16px;\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  justify-content: flex-end;\n  @keyframes shake{\n    10%, 90% {\n      transform: translate3d(-1px, -1px, 0);\n    }\n    20%, 80% {\n      transform: translate3d(2px, -2px, 0);\n    }\n    30%, 50%, 70% {\n      transform: translate3d(-4px, -4px, 0);\n    }\n    40%, 60% {\n      transform: translate3d(4px, -4px, 0);\n    }\n  }\n  > ul {\n    margin: 0 -6px;\n\n    > li {\n      background: #efefff;\n      border-radius: 18px;\n      display: inline-block;\n      padding: 3px 18px;\n      font-size: 14px;\n      margin: 8px 8px;\n      \n      &.selected {\n        background: lightskyblue;\n        animation: shake 800ms ease-in-out;\n      }\n    }\n  }\n\n  > button {\n    background: none;\n    border: none;\n    padding: 0 4px;\n    border-bottom: 1px solid #ccc;\n    color: #999;\n  }\n`;\n\ntype Props = {\n  value: number[],\n  onChange: (select: number[]) => void\n}\nconst TagSection: React.FC<Props> = (props) => {\n  const {tags,addTag} = useTags()\n  const selectTagIds = props.value;\n\n  const onToggleTag = (tagId: number) => {\n    const index = selectTagIds.indexOf(tagId);\n    if (index > -1) {\n      props.onChange(selectTagIds.filter((t) => t !== tagId));\n    } else {\n      props.onChange([...selectTagIds, tagId]);\n    }\n  };\n  return (\n    <>\n      <Wrapper>\n        <ul>\n\n          {tags.map((tag) =>\n            <li key={tag.id} onClick={() => onToggleTag(tag.id)}\n                className={selectTagIds.indexOf(tag.id) > -1 ? \"selected\" : \"\"}>\n              {tag.name}\n            </li>\n          )}\n        </ul>\n        {/*<button onClick={addTag}>新增标签</button>*/}\n      </Wrapper>\n    </>\n  );\n};\n\nexport {TagSection};","import styled from \"styled-components\";\r\nimport React, {ChangeEventHandler} from \"react\";\r\n// import {Input} from \"components/Input\";\r\nimport { Input } from 'antd';\r\n\r\n\r\nconst Wrapper = styled.section`\r\n  //background: aquamarine;\r\n  padding: 0 ;\r\n`;\r\n\r\ntype Props = {\r\n  value:string,\r\n  onChange:(note:string)=>void\r\n}\r\nconst NoteSection:React.FC<Props> = (props) => {\r\n  // const note = props.value\r\n  const onChange:ChangeEventHandler<HTMLInputElement> = (e) => {\r\n      props.onChange(e.target.value);\r\n  };\r\n  return (\r\n    <Wrapper>\r\n      <label>\r\n        <Input size=\"large\" maxLength={20} showCount value={props.value} onChange={onChange} placeholder=\"填写备注\" />\r\n      </label>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport {NoteSection};","import {useEffect, useState} from \"react\";\r\nimport {useUpdate} from \"./useUpdate\";\r\nimport {message} from \"antd\";\r\n\r\nexport type RecordItem = {\r\n  tagIds: number[]\r\n  note: string\r\n  category: \"-\" | \"+\"\r\n  amount: number\r\n  createAt: string\r\n}\r\ntype newRecordItem = Omit<RecordItem, \"createAt\">\r\n\r\nexport const useRecords = () => {\r\n  const [records, setRecords] = useState<RecordItem[]>([]);\r\n\r\n  useEffect(() => {\r\n    setRecords(JSON.parse(window.localStorage.getItem(\"records\") || \"[]\"));\r\n  }, []);\r\n\r\n  const addRecord = (newRecord: newRecordItem) => {\r\n    if (newRecord.amount <= 0) {\r\n      message.info('请输入金额');\r\n      return false\r\n        ;}\r\n    if (newRecord.tagIds.length < 1) {\r\n      message.info('添加个标签把');\r\n\r\n      return false\r\n    }else{\r\n      const record = {...newRecord, createAt: (new Date()).toISOString()};\r\n      setRecords([...records, record]);\r\n      return true\r\n    }\r\n  };\r\n  useUpdate(() => {\r\n    window.localStorage.setItem(\"records\", JSON.stringify(records));\r\n  }, records);\r\n  return {records, addRecord};\r\n};","import Layout from '../components/Layout';\nimport React, {useState} from \"react\";\nimport styled from \"styled-components\";\nimport {CategorySection} from \"./Money/CategorySection\";\nimport {NumberPadSection} from \"./Money/NumberPadSection\";\nimport {TagSection} from \"./Money/TagsSection\";\nimport {NoteSection} from \"./Money/NoteSection\";\nimport {useRecords} from \"../hooks/useRecords\";\nimport {message} from \"antd\";\nimport {useHistory} from \"react-router-dom\";\n\nconst MyLayout = styled(Layout)`\n  display: flex;\n  flex-direction: column;\n`\ntype Category = '-' | '+'\n\nconst defaultFormData={\n  tagIds: [] as number[],\n  note: '',\n  category: '-' as Category,\n  amount: 0\n}\n\nfunction Money() {\n  const [selected, setSelected] = useState(defaultFormData);\n  const onChange = (obj:Partial<typeof selected>)=>{\n    setSelected({...selected,...obj})\n  }\n  const history = useHistory();\n\n  const {addRecord}=useRecords()\n  const submit=()=>{\n    if (addRecord(selected)){\n      setSelected(defaultFormData)\n      const hide = message.loading('加载中..', 0);\n      setTimeout(hide, 500);\n      setTimeout(()=>{\n        message.info('保存成功');\n        setTimeout(()=>{\n          history.push('/chart');\n        },1000)\n      },1000)\n\n    }\n  }\n\n  return (\n    <MyLayout scrollTop={9999}>\n      <CategorySection value={selected.category}\n                       onChange={category=>{onChange({category})}} />\n        <TagSection value={selected.tagIds}\n                  onChange={tagIds=>onChange({tagIds})}/>\n      <NoteSection value={selected.note}\n                   onChange={note=>{onChange({note})}} />\n\n      <NumberPadSection value={selected.amount}\n                        onChange={amount=>{onChange({amount})}}\n                        onOK={()=>{submit()}}\n        />\n    </MyLayout>\n  );\n}\n\nexport default Money;\n","import Layout from \"../components/Layout\";\nimport React, {useState} from \"react\";\nimport {CategorySection} from \"./Money/CategorySection\";\nimport {RecordItem, useRecords} from \"../hooks/useRecords\";\nimport {useTags} from \"../hooks/useTags\";\nimport day from \"dayjs\";\nimport styled from \"styled-components\";\n\nconst Item = styled.div`\n  display: flex;\n  justify-content: space-between;\n  background: white;\n  font-size: 18px;\n  line-height: 20px;\n  padding: 10px 16px;\n\n  > .note {\n    margin-right: auto;\n    margin-left: 16px;\n    color: #999;\n  }\n`;\nconst Header = styled.h2`\n  padding: 16px;\n  \n`\nfunction Statistics() {\n  const [category, setCategory] = useState<\"-\" | \"+\">(\"-\");\n  const {records} = useRecords();\n  const {getName} = useTags();\n  const hash: { [K: string]: RecordItem[] } = {};\n  const selectedRecords = records.filter(r => r.category === category);\n\n  selectedRecords.forEach(r => {\n    const key = day(r.createAt).format(\"YYYY-MM-DD\");\n    if (!(key in hash)) {\n      hash[key] = [];\n    }\n    hash[key].push(r);\n  });\n  const array = Object.entries(hash).sort((a,b)=>{\n    if(a[0]===b[0])return 0\n    if(a[0]>b[0])return -1\n    if(a[0]<b[0])return 1\n    return 0\n  })\n\n  return (\n    <Layout>\n      <CategorySection value={category}\n                       onChange={value => {setCategory(value);}}/>\n      {array.map(([date,records])=>{\n        return <div>\n          <Header>\n            {date}\n          </Header>\n        <div>\n          {records.map(r => {\n            return <Item key={r.createAt}>\n              <div className=\"tags\">\n                {r.tagIds.map(tagId => <span key={tagId}>{getName(tagId)}</span>)}\n              </div>\n              {r.note && <div className=\"note\">\n                {r.note}\n              </div>}\n              <div className=\"amount\">\n                ￥{r.amount}\n              </div>\n              {/*{day(r.createAt).format(\"YYYY年MM月DD日\")}*/}\n            </Item>;\n          })}\n        </div>\n        </div>\n\n      })}\n\n\n    </Layout>\n  );\n}\n\n\nexport default Statistics;\n","import React, {useEffect, useRef} from \"react\";\nimport img from '../images/404.png';\nfunction NoMatch() {\n  const div = useRef(null)\n  useEffect(()=>{\n    if (!div.current) {return}\n    const width = document.body.clientWidth\n    console.log(width);\n    // @ts-ignore\n    div.current.style.width=`${width}px`\n    // @ts-ignore\n    // div.current.style.height=`${width*1.2}px`\n    console.log(div.current);\n  },[])\n  return (\n    <div >\n      <img ref={div} src={img} alt=\"404\"/>\n    </div>\n  );\n}\n\nexport default NoMatch;\n","import React, {useEffect, useRef} from \"react\";\r\nimport * as echarts from 'echarts';\r\n\r\nexport const REcharts =(props:any)=>{\r\n  const {option,loading} = props\r\n  const container = useRef<HTMLDivElement>(null)\r\n  const myChart = useRef(null)\r\n  useEffect(()=>{\r\n    if (!container.current){return}\r\n    const width = document.body.clientWidth\r\n    container.current.style.width=`${width}px`\r\n    container.current.style.height=`${width*1.2}px`\r\n    // @ts-ignore\r\n    myChart.current = echarts.init(container.current,'light');\r\n  },[])\r\n  useEffect(()=>{\r\n    if (!myChart.current){return}\r\n    // @ts-ignore\r\n    myChart.current.setOption(option)\r\n  },[option])\r\n  useEffect(()=>{\r\n    if (loading){\r\n      // @ts-ignore\r\n      myChart.current.showLoading()\r\n    }else{\r\n      // @ts-ignore\r\n      myChart.current.hideLoading()\r\n    }\r\n\r\n  },[loading])\r\n  return(\r\n    <div ref={container} >hi</div>\r\n  )\r\n}","import React, {useEffect, useState} from \"react\";\r\nimport Layout from \"../components/Layout\";\r\nimport {REcharts} from \"./REcharts\";\r\nimport {useRecords} from \"../hooks/useRecords\";\r\nimport styled from \"styled-components\";\r\n\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 100%;\r\n  height: 100%;\r\n`;\r\nconst Cbutton = styled.button`\r\n  margin: 10px;\r\n  padding: 10px;\r\n  border-radius: 5px;\r\n  border: none;\r\n  background-color: #001529;\r\n  color: #fff;\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  cursor: pointer;\r\n  outline: none;\r\n  &:hover {\r\n    background-color: #001529;\r\n  }\r\n`;\r\n\r\n\r\nexport const Chart = () => {\r\n  const {records}= useRecords()\r\n  const b = {'-':'支出','+':'收入'}\r\n  const x = records.map(i=>({value:i.amount,name:b[i.category]}))\r\n  type Props={\r\n    series:any\r\n    tooltip:any\r\n    legend:any\r\n\r\n  }\r\n  const [loading,setLoading] =useState(false)\r\n  const [option,setOption] =useState<Props>({\r\n      tooltip: {\r\n        trigger: 'item'\r\n      },\r\n      legend: {\r\n        top: '5%',\r\n        left: 'center'\r\n      },\r\n      series: [\r\n        {\r\n          name: 'Access From',\r\n          type: 'pie',\r\n          radius: ['40%', '70%'],\r\n          avoidLabelOverlap: false,\r\n          itemStyle: {\r\n            borderRadius: 10,\r\n            borderColor: '#fff',\r\n            borderWidth: 2\r\n          },\r\n          label: {\r\n            show: false,\r\n            position: 'center'\r\n          },\r\n          emphasis: {\r\n            label: {\r\n              show: true,\r\n              fontSize: '40',\r\n              fontWeight: 'bold'\r\n            }\r\n          },\r\n          labelLine: {\r\n            show: false\r\n          },\r\n          data: [5, 20, 36]\r\n        }\r\n      ]\r\n    })\r\n  const onClick=()=>{\r\n    setLoading(true)\r\n    setTimeout(()=>{\r\n      setLoading(false)\r\n      // @ts-ignore\r\n      setOption({\r\n        tooltip: {\r\n          trigger: 'item'\r\n        },\r\n        series: [{\r\n          data: x\r\n        }]\r\n      })\r\n    },1000)\r\n\r\n  }\r\n  useEffect(()=>{\r\n    setOption({\r\n      //@ts-ignore\r\n      legend: {\r\n        top: '5%',\r\n        left: 'center'\r\n      },\r\n      tooltip: {\r\n        trigger: 'item'\r\n      },\r\n      series: [{\r\n        data: x\r\n      }]\r\n    })\r\n  },[records])\r\n\r\n  return (\r\n        <Layout>\r\n          <Wrapper>\r\n            <h1>Chart</h1>\r\n          <REcharts option={option} loading={loading} />\r\n          <Cbutton onClick={onClick}>刷新</Cbutton>\r\n          </Wrapper>  \r\n        </Layout>\r\n    );\r\n};","import React from 'react';\nimport {HashRouter as Router, Switch, Route, Redirect} from 'react-router-dom';\nimport Money from './views/Money';\nimport Statistics from './views/Statistics';\n// import Tags from './views/Tags';\n// import {Tag} from './views/Tag'\nimport NoMatch from './views/NoMatch';\nimport styled from \"styled-components\";\nimport {Chart} from \"./views/Chart\";\n\nconst Wrapper = styled.div`\n  color: #333;\n  background-color: #fafafa;\n`;\n\nfunction App() {\n  return (\n    <Wrapper>\n\n    <Router>\n      <Switch>\n        <Route exact path=\"/chart\">\n          <Chart/>\n        </Route>\n        {/*<Route exact path=\"/tags/:id\">*/}\n        {/*  <Tag/>*/}\n        {/*</Route>*/}\n        <Route exact path=\"/money\">\n          <Money/>\n        </Route>\n        <Route exact path=\"/statistics\">\n          <Statistics/>\n        </Route>\n        <Redirect exact from=\"/\" to=\"/money\"/>\n        <Route path=\"*\">\n          <NoMatch/>\n        </Route>\n      </Switch>\n    </Router>\n    </Wrapper>\n\n  );\n}\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'index.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n","module.exports = __webpack_public_path__ + \"static/media/404.af517725.png\";"],"sourceRoot":""}